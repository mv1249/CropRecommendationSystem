<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.0/chart.min.js" integrity="sha512-RGbSeD/jDcZBWNsI1VCvdjcDULuSfWTtIva2ek5FtteXeSjLfXac4kqkDRHVGf1TwsXCAqPTF7/EYITD0/CTqw==" crossorigin="anonymous"></script>

    <!--Chart js-->

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datasource@0.1.0"></script>

    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <script src="http://d3js.org/d3.v3.min.js"></script>

    <!-- Fontawesome -->

    <script src="https://kit.fontawesome.com/043883177b.js" crossorigin="anonymous"></script>

    <title>Farm Easy ~ News</title>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/home">Farm Easy</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="/home">Home <span class="sr-only"></span></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/recommend">Crop Recommendation</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/yeild">Yeild Prediction</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/blog">News</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/weather">Weather</a>
                </li>




            </ul>
        </div>
    </nav>

    <div class="container-fluid my-4">
        <h3 class='text-center'>News</h3>
        <div class="row my-4">
            <div class="col-8">
                {{result|safe}}
            </div>
            
            <div class="col-md-4 col-sm-6 my-4">
                <div class="card-body">
                    <label class="text-center" for="banana" style="font-size:1.5rem;font-weight: bold;">Text-Analytics
                        </label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="300" width="300" id="chart"></canvas>
                    </div>
                </div>
                


            </div>

        </div>
    </div>
    </div>

    <div class="my-4">
        <h3 class="my-4 text-center">Entity Tag Reference</h3>
        <div class="row">
            <div class="col">
                <img src="/static/images/spacy_ner1.png" width="100%" height="100%"></img>
            </div>
            <div class="col">
                <img src="/static/images/spacy_ner2.png" width="100%" height="100%"></img>
            </div>
        </div>

    </div>

    <!--Go back-->
    <div class="col-sm">
        <div class="col-md-12 text-center my-4 mx-2">
            <a href="/blog/"><button class="btn btn-primary btn-md" type="submit">Go Back</button></a>
        </div>
    </div>


    {%block javascript%}

     <script>

            
            
            var keys = {{keys|safe}};
            var values = {{values|safe}};

            console.log(keys)
            console.log(values)

            
            
            // // // Chart1

            var ctx = document.getElementById('chart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: keys,
                    datasets: [{
                        label: "Entity : ",
                        data: values,
                        backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(75, 192, 192)',
                            'rgb(255, 205, 86)',
                            'rgb(201, 203, 207)',
                            'rgb(54, 162, 235)',
                            'rgba(153, 102, 255)',
                            'rgba(255, 159, 64)',
                            'rgba(250, 157, 60)'
                        ],
                        hoverOffset: 4

                    }]
                }
            })

        </script>

    {%endblock%}

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous">
    </script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
    -->

</body>

</html>