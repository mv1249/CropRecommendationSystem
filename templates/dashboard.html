<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.0/chart.min.js" integrity="sha512-RGbSeD/jDcZBWNsI1VCvdjcDULuSfWTtIva2ek5FtteXeSjLfXac4kqkDRHVGf1TwsXCAqPTF7/EYITD0/CTqw==" crossorigin="anonymous"></script>

     <!--Chart js-->

     <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
     <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datasource@0.1.0"></script>
 
     <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
 
     <script src="http://d3js.org/d3.v3.min.js"></script>
 
     <!-- Fontawesome -->
 
     <script src="https://kit.fontawesome.com/043883177b.js" crossorigin="anonymous"></script>
     


    <title>Farm Easy ~ Graphs</title>
</head>

<body>

    <!-- navbar -->

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/home">Farm Easy</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="/home">Home <span class="sr-only"></span></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/recommend">Crop Recommendation</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/yeild">Yeild Prediction</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/blog">News</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/weather">Weather</a>
                </li>




            </ul>
        </div>
    </nav>

    <!-- Main Form -->

    <div class="container my-4 text-center">


        <!-- H1 -->

        <h1 style="text-align: center;">Comparison of {{actualcrop|safe}} and {{suggestedcrop|safe}}</h1>

       

        <!-- Canvas -->

        <div class="row">

             <!-- N values comparison -->

             <div class="col-md-4 col-sm-6">

                <div class="card-body">
                    <label for="banana" style="text-align:center;font-size:1.5rem;font-weight: bold;">Comparision of Nitrogen values of  {{actualcrop|safe}} and {{suggestedcrop|safe}}</label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="400" width="400" id="chart"></canvas>
                    </div>
                </div>


            </div>

            <!-- P values comparision -->

            <div class="col-md-4 col-sm-6">

                <div class="card-body">

                    <label for="banana" style="text-align:center;font-size:1.5rem;font-weight: bold;">Comparision of Phosphorus values of  {{actualcrop|safe}} and {{suggestedcrop|safe}}</label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="400" width="400" id="chart2"></canvas>
                    </div>
                </div>


            </div>

            <!-- K values comparision -->

            <div class="col-md-4 col-sm-6">

                <div class="card-body">

                    <label for="banana" style="text-align:center;font-size:1.5rem;font-weight: bold;">Comparision of Potassium values of  {{actualcrop|safe}} and {{suggestedcrop|safe}}</label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="400" width="400" id="chart3"></canvas>
                    </div>
                </div>


            </div>

            <!--Temperature values  -->

            <div class="col-md-4 col-sm-6">

                <div class="card-body">

                    <label for="banana" style="text-align:center;font-size:1.5rem;font-weight: bold;">Comparision of Temperature values of  {{actualcrop|safe}} and {{suggestedcrop|safe}}</label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="400" width="400" id="chart4"></canvas>
                    </div>
                </div>


            </div>

            <!-- Humidity -->

            <div class="col-md-4 col-sm-6">

                <div class="card-body">

                    <label for="banana" style="text-align:center;font-size:1.5rem;font-weight: bold;">Comparision of Humidity values of  {{actualcrop|safe}} and {{suggestedcrop|safe}}</label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="400" width="400" id="chart5"></canvas>
                    </div>
                </div>


            </div>
            

            <!--Ph values-->

            <div class="col-md-4 col-sm-6">

                <div class="card-body">

                    <label for="banana" style="text-align:center;font-size:1.5rem;font-weight: bold;">Comparision of pH values of  {{actualcrop|safe}} and {{suggestedcrop|safe}}</label>
                    <div class="chart-container my-3" style="position: relative;">
                        <canvas height="400" width="400" id="chart6"></canvas>
                    </div>
                </div>


            </div>
            
            <!--Go back-->
            <div class="col-sm">
                <div class="col-md-12 text-center my-4 mx-2">
                    <a href="/recommend/"><button class="btn btn-primary btn-md" type="submit">Go Back</button></a>
                </div>
            </div>


    </div>


    {%block javascript%}

     <script>

            
            
            var n_values = {{n_values|safe}};
            var p_values = {{p_values|safe}};
            var k_values = {{k_values|safe}};
            var temp_values = {{temp_values|safe}};
            var humidity_values = {{humidity_values|safe}};
            var ph_values = {{ph_values|safe}};

            //var actual_label = String({{actualcrop|safe}});
            //var recommended_label = String({{suggestedcrop|safe}});

            console.log(p_values[0],p_values[1])

            
            // // // Chart1

            var ctx = document.getElementById('chart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["{{actualcrop|safe}}","{{suggestedcrop|safe}}"],
                    datasets: [{
                        label: "Nitrogen value",
                        data: n_values,
                        backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(75, 192, 192)',
                            'rgb(255, 205, 86)',
                            'rgb(201, 203, 207)',
                            'rgb(54, 162, 235)',
                            'rgba(153, 102, 255)',
                            'rgba(255, 159, 64)',
                            'rgba(250, 157, 60)'
                        ],
                        hoverOffset: 4

                    }]
                }
            })

            // // Chart2

            var ctx = document.getElementById('chart2').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["{{actualcrop|safe}}","{{suggestedcrop|safe}}"],
                    datasets: [{
                        label: "Phosphorus Value",
                        data: p_values,
                        backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(75, 192, 192)',
                            'rgb(255, 205, 86)',
                            'rgb(201, 203, 207)',
                            'rgb(54, 162, 235)',
                            'rgba(153, 102, 255)',
                            'rgba(255, 159, 64)',
                            'rgba(250, 157, 60)'
                        ],
                        hoverOffset: 4

                    }]
                }
            })


            // // Chart 3

            var ctx = document.getElementById('chart3').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["{{actualcrop|safe}}","{{suggestedcrop|safe}}"],
                    datasets: [{
                        label: "Potassium value",
                        data: k_values,
                        backgroundColor: [
                        'rgb(255, 205, 86)',
                        'rgb(255, 99, 132)',
                        
                        ],
                        hoverOffset: 4

                    }]
                }
            })


            // // Chart 4
           
            var ctx = document.getElementById('chart4').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["{{actualcrop|safe}}","{{suggestedcrop|safe}}"],
                    datasets: [
                    {
                        label: "Temperature values",
                        data: temp_values,
                        backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(75, 192, 192)',
                        ],
                        stack: 'combined',
                        type: 'bar'
                    },
                    ]
                }
            })


            // // Chart 5

            var ctx = document.getElementById('chart5').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ["{{actualcrop|safe}}","{{suggestedcrop|safe}}"],
                    datasets: [{
                        label: "Humidity values",
                        data: humidity_values,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)',
                            'rgba(250, 157, 60, 0.1)',
                            'rgba(250, 157, 62, 0.6)',
                            'rgba(250, 157, 50, 0.4)',
                            'rgba(250, 157, 40, 0.5)',
                            'rgba(250, 157, 10, 0.2)',
                            'rgba(250, 157, 30, 0.3)',
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)',
                            'rgba(250, 157, 60, 0.1)'
                        ],
                        borderWidth: 2.5
                    }]
                }
            })

            //Chart 6

            var ctx = document.getElementById('chart6').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["{{actualcrop|safe}}","{{suggestedcrop|safe}}"],
                    datasets: [
                    {
                        label: "Ph value",
                        data: ph_values,
                        backgroundColor: [
                            'rgba(255, 99, 132)',
                            'rgba(54, 162, 235)',
                        ],
                        borderWidth: 2.5
                    },
                   ]
                }
            })

            




        </script>



    {%endblock%}






    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous">
    </script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
    -->
</body>

</html>